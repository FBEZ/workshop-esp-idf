<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>ESP-IDF Basics - Lecture 3 &#183; Workshops</title>
<meta name=title content="ESP-IDF Basics - Lecture 3 &#183; Workshops"><meta name=description content="In this lecture we'll explore how to include libraries which are part of the ESP-IDF, external libraries and components from the ESP component registry"><link rel=canonical href=https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/lecture-3/><link type=text/css rel=stylesheet href=../../../workshop-esp-idf/css/main.bundle.min.07ac84810cad0ed08da8b416798009536fa2093f146cd2365bed74f9139c75a1a7fdbca3b4d77a97a90689aba4635d5467091cff70733f074b4356478b66bb9c.css integrity="sha512-B6yEgQytDtCNqLQWeYAJU2+iCT8UbNI2W+10+ROcdaGn/byjtNd6l6kGiaukY11UZwkc/3BzPwdLQ1ZHi2a7nA=="><script type=text/javascript src=../../../workshop-esp-idf/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=../../../workshop-esp-idf/js/main.bundle.min.829f1a320d5c2d64e9e0220d20960155b426b094cfb2440e4938166a93f52805a398e64abc400353e7a0b8ea9cb75083d6dd5238a5d4a59fd0cd01008d407301.js integrity="sha512-gp8aMg1cLWTp4CINIJYBVbQmsJTPskQOSTgWapP1KAWjmOZKvEADU+eguOqct1CD1t1SOKXUpZ/QzQEAjUBzAQ==" data-copy data-copied></script><script src=../../../workshop-esp-idf/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj+Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script><link rel=apple-touch-icon sizes=180x180 href=../../../workshop-esp-idf/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../workshop-esp-idf/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../workshop-esp-idf/favicon-16x16.png><link rel=manifest href=../../../workshop-esp-idf/site.webmanifest><meta property="og:url" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/lecture-3/"><meta property="og:site_name" content="Workshops"><meta property="og:title" content="ESP-IDF Basics - Lecture 3"><meta property="og:description" content="In this lecture we’ll explore how to include libraries which are part of the ESP-IDF, external libraries and components from the ESP component registry"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="workshops"><meta property="article:published_time" content="2025-08-05T00:00:00+00:00"><meta property="article:modified_time" content="2025-08-05T00:00:00+00:00"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-1-1/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-1-2/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-2-1/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-2-2/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-2-3/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-3-1/"><meta property="og:see_also" content="https://fbez.github.io/workshop-esp-idf/workshops/esp-idf-basic/assignment-3-2/"><meta name=twitter:card content="summary"><meta name=twitter:title content="ESP-IDF Basics - Lecture 3"><meta name=twitter:description content="In this lecture we’ll explore how to include libraries which are part of the ESP-IDF, external libraries and components from the ESP component registry"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Workshops","name":"ESP-IDF Basics - Lecture 3","headline":"ESP-IDF Basics - Lecture 3","abstract":"In this lecture we\u0026rsquo;ll explore how to include libraries which are part of the ESP-IDF, external libraries and components from the ESP component registry","inLanguage":"en","url":"https:\/\/fbez.github.io\/workshop-esp-idf\/workshops\/esp-idf-basic\/lecture-3\/","author":{"@type":"Person","name":"John Lee"},"copyrightYear":"2025","dateCreated":"2025-08-05T00:00:00\u002b00:00","datePublished":"2025-08-05T00:00:00\u002b00:00","dateModified":"2025-08-05T00:00:00\u002b00:00","mainEntityOfPage":"true","wordCount":"1281"}]</script><meta name=author content="John Lee"><link href=https://www.linkedin.com/company/espressif-systems rel=me><link href=https://twitter.com/EspressifSystem rel=me><link href=https://www.instagram.com/espressif_systems_official rel=me><link href=https://blog.espressif.com/ rel=me><link href=https://github.com/espressif rel=me><link href=https://espressif.com/ rel=me><script src=../../../workshop-esp-idf/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-K9NTMXPGN3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K9NTMXPGN3")</script><meta name=theme-color><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js></script><script>const firebaseConfig={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};var app=firebase.initializeApp(firebaseConfig),db=firebase.firestore(),auth=firebase.auth()</script></head><body class="bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral"><div class="flex flex-col min-h-screen w-full max-w-7xl mx-auto px-6 sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 pl-[24px] pr-[24px] bg-neutral dark:bg-neutral-800" style=z-index:100><div class="relative max-w-[64rem] ml-auto mr-auto"><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex flex-wrap items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div><a href=../../../workshop-esp-idf/ class=flex><span class=sr-only>Workshops</span>
<img src=../../../workshop-esp-idf/img/espressif_logo_contour.png width=192 height=39.5 class="logo max-h-[0.625rem] max-w-[0.625rem] object-scale-down object-left nozoom" alt=Workshops></a></div><div class="flex flex-1 items-center justify-between w-full md:w-auto"><nav class="flex space-x-3"><a href=../../../workshop-esp-idf/ class="text-base font-medium text-gray-500 hover:text-gray-900">Workshops</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=../../../workshop-esp-idf/workshops/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=Workshops>Workshops</p></a><div><div class="cursor-pointer flex items-center nested-menu"><a class="text-base font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title>Quick Links
</a><span><span class="relative block icon"><svg viewBox="0 0 20 20" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75.0 011.06.02L10 11.168l3.71-3.938a.75.75.0 111.08 1.04l-4.25 4.5a.75.75.0 01-1.08.0l-4.25-4.5a.75.75.0 01.02-1.06z" clip-rule="evenodd"/></svg></span></span></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=https://espressif.com target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>Espressif Site</p></a><a href=https://documentation.espressif.com/en/home target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>Documents</p></a><a href=https://components.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>Component Registry</p></a><a href=https://devcon.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>DevCon</p></a><a href=https://esp32.com target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>ESP32 Forum</p></a><a href=https://products.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>Product Selector</p></a><a href=https://www.reddit.com/r/esp32/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>Reddit</p></a></div></div></div></div><div><div class="cursor-pointer flex items-center nested-menu"><span class="ltr:mr-1 rtl:ml-1"><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentcolor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span></span><div class="text-sm font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Basics - Lecture 3">EN</div></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=../../../workshop-esp-idf/it/workshops/esp-idf-basic/lecture-3/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Base - Lezione 3">IT</p></a><a href=../../../workshop-esp-idf/workshops/esp-idf-basic/lecture-3/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Basics - Lecture 3">EN</p></a></div></div></div></div><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400 h-12" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button></nav></div><div class="w-full flex flex-wrap justify-between md:hidden mt-2 space-y-2"><div class="flex items-center space-x-5 ml-auto"><div><div class="cursor-pointer flex items-center nested-menu"><span class="ltr:mr-1 rtl:ml-1"><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentcolor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span></span><div class="text-sm font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Basics - Lecture 3">EN</div></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=../../../workshop-esp-idf/it/workshops/esp-idf-basic/lecture-3/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Base - Lezione 3">IT</p></a><a href=../../../workshop-esp-idf/workshops/esp-idf-basic/lecture-3/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="ESP-IDF Basics - Lecture 3">EN</p></a></div></div></div></div><button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<label id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl menu-ul"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400 menu-close"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=../../../workshop-esp-idf/workshops/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=Workshops>Workshops</p></a></li><li class=mt-1><a href class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Quick Links</p><span><span class="relative block icon"><svg viewBox="0 0 20 20" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75.0 011.06.02L10 11.168l3.71-3.938a.75.75.0 111.08 1.04l-4.25 4.5a.75.75.0 01-1.08.0l-4.25-4.5a.75.75.0 01.02-1.06z" clip-rule="evenodd"/></svg></span></span></a></li><li class=mt-1><a href=https://espressif.com target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>Espressif Site</p></a></li><li class=mt-1><a href=https://documentation.espressif.com/en/home target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>Documents</p></a></li><li class=mt-1><a href=https://components.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>Component Registry</p></a></li><li class=mt-1><a href=https://devcon.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>DevCon</p></a></li><li class=mt-1><a href=https://esp32.com target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>ESP32 Forum</p></a></li><li class=mt-1><a href=https://products.espressif.com/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>Product Selector</p></a></li><li class=mt-1><a href=https://www.reddit.com/r/esp32/ target=_blank class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>Reddit</p></a></li><li class=mb-2></li></ul></div></label></div></div></div><script>(function(){var e=$(".main-menu"),t=window.location.pathname;e.find('a[href="'+t+'"]').each(function(e,t){$(t).children("p").addClass("active")}),document.querySelectorAll("#menu-wrapper .mt-1").forEach(e=>{e.style.width="7rem",e.style.textAlign="left",e.querySelector("span")!==null&&e.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();const o=document.querySelector("#menu-wrapper");o.style.display="block",this.classList.contains("menu-show")?this.classList.remove("menu-show"):this.classList.add("menu-show");for(var s=[],n=this.nextSibling;n;){if(n.nodeType===1&&n.classList.contains("mb-2"))break;n.nodeType===1&&n.tagName.toLowerCase()==="li"&&s.push(n),n=n.nextSibling}s.forEach(function(t){t.style.display=e.classList.contains("menu-show")?"block":"none"})}),e.querySelector("a")?.querySelector("p.text-sm")&&(e.style.display="none")}),document.querySelectorAll("#menu-wrapper .mb-2").forEach(e=>{e.style.display="none"})})()</script><link rel=stylesheet href=https://fbez.github.io/workshop-esp-idf/css/styles.css integrity></div></div><div class="relative flex flex-col grow"><main id=main-content class="grow pb-[120px]"><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">ESP-IDF Basics - Lecture 3</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2025-08-05T00:00:00+00:00>5 August 2025</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">7 mins</span><span class="px-2 text-primary-500">&#183;</span>
<script type=text/javascript src=../../../workshop-esp-idf/js/zen-mode.min.2a0a1375509c03daf41c53a9831aa2d560895b7a2528c3eb3b56e7b11a135c7529e49727162a053b6193be8340270a8342f42c69f3d7e262ae54bc248eaac8f5.js integrity="sha512-KgoTdVCcA9r0HFOpgxqi1WCJW3olKMPrO1bnsRoTXHUp5JcnFioFO2GTvoNAJwqDQvQsafPX4mKuVLwkjqrI9Q=="></script><span class=mb-[2px]><span id=zen-mode-button class="text-lg hover:text-primary-500" title="Enable zen mode" data-title-i18n-disable="Enable zen mode" data-title-i18n-enable="Disable zen mode"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 50 50" width="50" height="50"><path fill="currentcolor" d="M12.980469 4C9.1204688 4 5.9804688 7.14 5.9804688 11L6 26H9.9804688V11c0-1.65 1.3400002-3 3.0000002-3H40.019531c1.66.0 3 1.35 3 3V39c0 1.65-1.34 3-3 3H29c0 1.54-.579062 2.94-1.539062 4H40.019531c3.86.0 7-3.14 7-7V11c0-3.86-3.14-7-7-7H12.980469zM7 28c-2.206.0-4 1.794-4 4V42c0 2.206 1.794 4 4 4H23c2.206.0 4-1.794 4-4V32c0-2.206-1.794-4-4-4H7zm0 4H23L23.001953 42H7V32z"/></svg></span></span></span></span></div><div class="flex flex-row flex-wrap items-center"></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]"><details open class="toc-right mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#included-libraries>Included Libraries</a><ul><li><a href=#gpio>GPIO</a><ul><li><a href=#including-the-library>Including the library</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#usage>Usage</a></li></ul></li><li><a href=#i2c>I2C</a><ul><li><a href=#including-the-library-1>Including the library</a></li><li><a href=#configuration-1>Configuration</a></li></ul></li></ul></li><li><a href=#component-registry>Component registry</a><ul><li><a href=#use-a-component-from-the-registry---button>Use a component from the registry - button</a></li><li><a href=#create-a-component>Create a component</a></li></ul></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#next-step>Next step</a></li></ul></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#included-libraries>Included Libraries</a><ul><li><a href=#gpio>GPIO</a><ul><li><a href=#including-the-library>Including the library</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#usage>Usage</a></li></ul></li><li><a href=#i2c>I2C</a><ul><li><a href=#including-the-library-1>Including the library</a></li><li><a href=#configuration-1>Configuration</a></li></ul></li></ul></li><li><a href=#component-registry>Component registry</a><ul><li><a href=#use-a-component-from-the-registry---button>Use a component from the registry - button</a></li><li><a href=#create-a-component>Create a component</a></li></ul></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#next-step>Next step</a></li></ul></li></ul></nav></div></details><script>(function(){var t,e=$("#TableOfContents");if(e.length>0){t=$(window);function n(){var s,o=t.scrollTop(),i=$(".anchor"),n="";if(i.each(function(e,t){t=$(t),t.offset().top-$(window).height()/3<=o&&(n=t.attr("id"))}),s=e.find("a.active"),s.length==1&&s.eq(0).attr("href")=="#"+n)return!0;s.each(function(e,t){$(t).removeClass("active")}),e.find('a[href="#'+n+'"]').addClass("active"),e.find('a[href="#'+n+'"]').parentsUntil("#TableOfContents").each(function(e,t){$(t).children("a").parents("ul").show()})}t.on("scroll",n),$(document).ready(function(){n()})}})()</script></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-summary max-w-prose mb-30">In this lecture we&rsquo;ll explore how to include libraries which are part of the ESP-IDF, external libraries and components from the ESP component registry</div><div class="article-content max-w-prose mb-20"><h2 class="relative group">Introduction<div id=introduction class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#introduction aria-label=Anchor>#</a></span></h2><p>As we saw earlier, ESP-IDF contains several libraries, from FreeRTOS &mdash; the operating system which manages all tasks &mdash; to the peripheral drivers and protocol libraries.
Including the libraries for every possible protocol, algorithm, or driver inside ESP-IDF is not possible: It&rsquo;s size would increase dramatically.
If you need a specific protocol, you can probably find it&rsquo;s C implementation somewhere on Github. In this case, the challenge will be to port it to ESP-IDF, taking care of finding all dependencies and informing the build system about which files should be compiled and linked.</p><p>To solve these problem, Espressif developed a component system similar to a package system in GNU/Linux distributions. The components take care of the dependencies and the build system and you can simply include the header file and you&rsquo;re ready to go!
Like in the case of Linux packages, there is also a component manager and a component registry, where you can find all the official packages by Espressif. Once, components are included, the <code>idf.py</code> tool will download the component and set the stage for its use.</p><p>For additional information, we recommend that you watch the talk <a href="https://www.youtube.com/watch?v=D86gQ4knUnc" target=_blank>DevCon23 - Developing, Publishing, and Maintaining Components for ESP-IDF</a>.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/D86gQ4knUnc?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><p>We will explore the differences in the use of the integrated libraries and the ones provided by the component registry. We will also see how to create a component, in order to make reusable code.</p><p>We will explore how to:</p><ol><li>Include and use the <code>gpio</code> and the <code>i2c</code> libraries (included)</li><li>See how and use the <code>button</code> component (registry)</li><li>Create a new component</li></ol><p>During the assignments, the goal will be to control the LED and the I2C sensor (SHTC3) on the board (see Fig. 1).</p><figure><img src=../assets/lec_3_led_gpio.webp alt="Fig.1 - GPIO connected to the LED"><figcaption><p>Fig.1 - GPIO connected to the LED</p></figcaption></figure><h2 class="relative group">Included Libraries<div id=included-libraries class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#included-libraries aria-label=Anchor>#</a></span></h2><p>Let’s take a look at how to use the included libraries. This usually involves three main steps:</p><ol><li>Let the build system know about the library
<em>(include the header file and update <code>CMakeLists.txt</code>)</em></li><li>Configure the library settings</li><li>Use the library by calling its functions</li></ol><h3 class="relative group">GPIO<div id=gpio class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#gpio aria-label=Anchor>#</a></span></h3><p>A GPIO (General-Purpose Input/Output) peripheral is a digital interface on a microcontroller or processor that allows it to read input signals (like button presses) or control output devices (like LEDs) through programmable pins. These pins can be configured individually as either input or output and are commonly used for basic device interfacing and control.</p><p>On our board, we have an LED connected to the GPIO10 (see Fig. 1) and we will use this pin for the example.</p><h4 class="relative group">Including the library<div id=including-the-library class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#including-the-library aria-label=Anchor>#</a></span></h4><p>To include the <code>gpio</code> library, we first need to include the header file and tell the build system where to find it.</p><p>We need first to include</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;driver/gpio.h&#34;</span><span class=cp>
</span></span></span></code></pre></div><p>and then add to <code>CMakeList.txt</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>REQUIRES</span> <span class=n>esp_driver_gpio</span>
</span></span></code></pre></div><p>Note that the header file and the required path are different: When including a library, make sure you check the <a href=https://docs.espressif.com/projects/esp-idf/en/v5.4.1/esp32c3/index.html target=_blank>programming guide</a> first.</p><p>To find the name of the <code>REQUIRES</code> path, you need to open the programming guide and:</p><ul><li>Choose the core (ESP32-C3) in the upper left corner</li><li>Find the page for the peripheral (GPIO)</li><li>Find the section <a href=https://docs.espressif.com/projects/esp-idf/en/v5.4.1/esp32c3/api-reference/peripherals/gpio.html#api-reference-normal-gpio target=_blank>API Reference</a></li></ul><h4 class="relative group">Configuration<div id=configuration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configuration aria-label=Anchor>#</a></span></h4><p>Peripherals have many settings (input/output, frequency, etc). You need to confiure them before using the peripherals.</p><p>In case of GPIO, a basic configuration is</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>    <span class=c1>//zero-initialize the config structure.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>gpio_config_t</span> <span class=n>io_conf</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=c1>//disable interrupt
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>io_conf</span><span class=p>.</span><span class=n>intr_type</span> <span class=o>=</span> <span class=n>GPIO_INTR_DISABLE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//set as output mode
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>io_conf</span><span class=p>.</span><span class=n>mode</span> <span class=o>=</span> <span class=n>GPIO_MODE_OUTPUT</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//bit mask of the pins that you want to set,e.g.GPIO18/19
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>io_conf</span><span class=p>.</span><span class=n>pin_bit_mask</span> <span class=o>=</span> <span class=n>GPIO_OUTPUT_PIN_SEL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//disable pull-down mode
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>io_conf</span><span class=p>.</span><span class=n>pull_down_en</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//disable pull-up mode
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>io_conf</span><span class=p>.</span><span class=n>pull_up_en</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//configure GPIO with the given settings
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>gpio_config</span><span class=p>(</span><span class=o>&amp;</span><span class=n>io_conf</span><span class=p>);</span>
</span></span></code></pre></div><p>In this workshop, we will use GPIO for output. Due to this, we won&rsquo;t talk about:</p><ul><li>Interrupts (trigger a function when the input changes)</li><li>Pull-up and pull-down (set a default input value)</li></ul><p>The only field that needs some explanation is the <code>pin_bit_mask</code>.
The configuration refers to the whole GPIO peripheral. In order to apply the configuration only to certain pins (via <code>gpio_config</code>), we need to specify the pins via a <a href=https://en.wikipedia.org/wiki/Mask_%28computing%29 target=_blank>bit mask</a>.
The <code>pin_bit_mask</code> is set equal to GPIO_OUTPUT_PIN_SEL which is</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#define GPIO_OUTPUT_LED   10
</span></span></span><span class=line><span class=cl><span class=cp>#define GPIO_OUTPUT_PIN_SEL  (1ULL&lt;&lt;GPIO_OUTPUT_LED) </span><span class=c1>// i.e. 0000000000000000000000000000010000000000
</span></span></span></code></pre></div><p>If you want to apply the configuration to more than one GPIO, you need to <code>OR</code> them.
For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#define GPIO_OUTPUT_LED   10
</span></span></span><span class=line><span class=cl><span class=cp>#define GPIO_OUTPUT_EXAMPLE   12
</span></span></span><span class=line><span class=cl><span class=cp>#define GPIO_OUTPUT_PIN_SEL  ((1ULL&lt;&lt;GPIO_OUTPUT_LED) | (GPIO_OUTPUT_EXAMPLE))</span><span class=c1>// i.e. 0000000000000000000000000001010000000000
</span></span></span></code></pre></div><h4 class="relative group">Usage<div id=usage class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#usage aria-label=Anchor>#</a></span></h4><p>Once the peripheral is configured, we can use the function <a href=https://docs.espressif.com/projects/esp-idf/en/v5.4.1/esp32c3/api-reference/peripherals/gpio.html#_CPPv414gpio_set_level10gpio_num_t8uint32_t target=_blank><code>gpio_set_level</code></a> to set the GPIO output to either <code>0</code> or <code>1</code>.
The header file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=nf>gpio_set_level</span><span class=p>(</span><span class=n>GPIO_OUTPUT_LED</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>// turns led on
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>gpio_set_level</span><span class=p>(</span><span class=n>GPIO_OUTPUT_LED</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>// turns led off
</span></span></span></code></pre></div><h3 class="relative group">I2C<div id=i2c class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#i2c aria-label=Anchor>#</a></span></h3><p>I2C (Inter-Integrated Circuit) is a communication protocol that uses only two wires—SDA (data line) and SCL (clock line)—to transmit data between devices. Usually, it is used to connect a microcontroller to an external sensor or actuator. It allows multiple peripherals to communicate with a microcontroller using unique addresses, enabling efficient and scalable device interconnection.</p><h4 class="relative group">Including the library<div id=including-the-library-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#including-the-library-1 aria-label=Anchor>#</a></span></h4><p>Consulting the corresponding <a href=https://docs.espressif.com/projects/esp-idf/en/v5.4.1/esp32c3/api-reference/peripherals/i2c.html#api-reference target=_blank>programming guide section</a> we get the header file</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;driver/i2c_master.h&#34;</span><span class=cp>
</span></span></span></code></pre></div><p>and value for the <code>CMakeList.txt</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-make data-lang=make><span class=line><span class=cl><span class=err>REQUIRES</span> <span class=err>esp_driver_i2c</span>
</span></span></code></pre></div><h4 class="relative group">Configuration<div id=configuration-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configuration-1 aria-label=Anchor>#</a></span></h4><p>A configuration has the following form:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl>    <span class=kt>i2c_master_bus_config_t</span> <span class=n>bus_config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>i2c_port</span> <span class=o>=</span> <span class=n>I2C_NUM_0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>sda_io_num</span> <span class=o>=</span> <span class=n>I2C_MASTER_SDA_IO</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>scl_io_num</span> <span class=o>=</span> <span class=n>I2C_MASTER_SCL_IO</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>clk_source</span> <span class=o>=</span> <span class=n>I2C_CLK_SRC_DEFAULT</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>glitch_ignore_cnt</span> <span class=o>=</span> <span class=mi>7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>flags</span><span class=p>.</span><span class=n>enable_internal_pullup</span> <span class=o>=</span> <span class=nb>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nf>i2c_new_master_bus</span><span class=p>(</span><span class=o>&amp;</span><span class=n>bus_config</span><span class=p>,</span> <span class=n>bus_handle</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>i2c_device_config_t</span> <span class=n>dev_config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>dev_addr_length</span> <span class=o>=</span> <span class=n>I2C_ADDR_BIT_LEN_7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>device_address</span> <span class=o>=</span> <span class=n>SHTC3_SENSOR_ADDR</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>scl_speed_hz</span> <span class=o>=</span> <span class=mi>400000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nf>i2c_master_bus_add_device</span><span class=p>(</span><span class=o>*</span><span class=n>bus_handle</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>dev_config</span><span class=p>,</span> <span class=n>dev_handle</span><span class=p>);</span>
</span></span></code></pre></div><p>The values for our board are (see Fig. 1)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#define I2C_MASTER_SDA_IO 7
</span></span></span><span class=line><span class=cl><span class=cp>#define I2C_MASTER_SCL_IO 8
</span></span></span><span class=line><span class=cl><span class=cp>#define SHTC3_SENSOR_ADDR 0x70
</span></span></span></code></pre></div><p>The other macros are defined internally.</p><h2 class="relative group">Component registry<div id=component-registry class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#component-registry aria-label=Anchor>#</a></span></h2><h3 class="relative group">Use a component from the registry - button<div id=use-a-component-from-the-registry---button class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#use-a-component-from-the-registry---button aria-label=Anchor>#</a></span></h3><p>For our last external library (button), we will use the component manager and registry.</p><ul><li>Go to the <a href=https://components.espressif.com/ target=_blank>component registry</a></li><li>Search for the button component (<a href=https://components.espressif.com/components/espressif/button/versions/4.1.3 target=_blank>espressif/button</a>)</li><li>Copy the instruction on the left (see Fig.2) - <code>idf.py add-dependency "espressif/button^4.1.3"</code></li><li>In VSCode: <code>> ESP-IDF: Open ESP-IDF Terminal</code> and paste the instruction</li></ul><figure><img src=../assets/lec_3_registry.webp alt="Fig.2 - espressif/button component"><figcaption><p>Fig.2 - espressif/button component</p></figcaption></figure><p>You should get a message</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Executing action: add-dependency
</span></span><span class=line><span class=cl>NOTICE: Successfully added dependency <span class=s2>&#34;espressif/button&#34;</span>: <span class=s2>&#34;^4.1.3&#34;</span> to component <span class=s2>&#34;main&#34;</span>
</span></span><span class=line><span class=cl>NOTICE: If you want to make additional changes to the manifest file at path &lt;user_path&gt;/blink/main/idf_component.yml manually, please refer to the documentation: https://docs.espressif.com/projects/idf-component-manager/en/latest/reference/manifest_file.html
</span></span></code></pre></div><p>A new file <code>idf_component.yml</code> has been created in your project with the following content:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>dependencies</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>espressif/led_strip</span><span class=p>:</span><span class=w> </span><span class=l>^2.4.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>espressif/button</span><span class=p>:</span><span class=w> </span><span class=l>^4.1.3</span><span class=w>
</span></span></span></code></pre></div><p>You can add dependencies directly in this file, but it&rsquo;s recommended to use <code>idf.py add-dependency</code> utility.</p><p>To use the component, you have to include the appropriate header file and call the functions given in the component documentation and folder.</p><h3 class="relative group">Create a component<div id=create-a-component class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#create-a-component aria-label=Anchor>#</a></span></h3><p>For detailed instructions on how to create a component using the CLI, you can refer to the article <a href=https://developer.espressif.com/blog/2024/12/how-to-create-an-esp-idf-component/ target=_blank>How to create an ESP-IDF component</a> on the Espressif Developer Portal.</p><p>In VSCode, you can follow a similar flow:</p><ol><li>Create a new project</li><li>Create a new component by calling <code>> ESP-IDF: Create New ESP-IDF Component</code></li><li>Give the component a name (e.g. <code>led_toggle</code>)</li></ol><p>The project will now contain a components folder and all the required files</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>└── project_folder/
</span></span><span class=line><span class=cl>    ├── components/
</span></span><span class=line><span class=cl>    │   └── led_toggle/
</span></span><span class=line><span class=cl>    │       ├── include/
</span></span><span class=line><span class=cl>    │       │   └── led_toggle.h
</span></span><span class=line><span class=cl>    │       ├── CMakeList.txt
</span></span><span class=line><span class=cl>    │       └── led_toggle.c
</span></span><span class=line><span class=cl>    ├── main
</span></span><span class=line><span class=cl>    └── build
</span></span></code></pre></div><div class="flex px-4 py-3 rounded-md" style=background-color:#edcea3><span class="ltr:pr-3 rtl:pl-3 flex items-center" style=color:#df8e1d><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M506.3 417 293 53c-16.33-28-57.54-28-73.98.0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6c32.76.0 53.26-35 36.96-63zM232 168c0-13.25 10.75-24 24-24s24 10.8 24 24v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zm24 248c-17.36.0-31.44-14.08-31.44-31.44s14.07-31.44 31.44-31.44 31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>
</span></span><span class=dark:text-neutral-300><p>Each time you create or download a component, you need to perform a project <strong>full cleal</strong> by calling:</p><p><code>> ESP-IDF: Full Clean Project</code></p></span></div><p>You can then include your component in the main file as <code>led_toggle.h</code>.</p><h2 class="relative group">Conclusion<div id=conclusion class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#conclusion aria-label=Anchor>#</a></span></h2><p>In this short lecture, we explored two main ways to include external libraries: directly through the CMakeLists.txt file and via the component registry. We covered how to include and use libraries with both methods and explained how to create a custom component from scratch using VSCode. Now it&rsquo;s time to put these concepts into practice in the upcoming assignments.</p><h3 class="relative group">Next step<div id=next-step class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#next-step aria-label=Anchor>#</a></span></h3><blockquote><p>Next assignment → <a href=../assignment-3-1/>Assignment 3.1</a></p></blockquote><blockquote><p>Or <a href=../#workshop>go back to navigation menu</a></p></blockquote></div><h2 class="mt-8 text-2xl font-extrabold mb-10">Related</h2><section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3"><a href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-1-1/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-1-1/>ESP-IDF Basics - Assign. 1.1</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Reading time">3 mins</span></div><div class="flex flex-row flex-wrap items-center"></div></div><div class="py-1 prose dark:prose-invert"></div></div><div class="px-6 pt-4 pb-2"></div></div></a><a href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-1-2/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-1-2/>ESP-IDF Basics - Assign. 1.2</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Reading time">2 mins</span></div><div class="flex flex-row flex-wrap items-center"></div></div><div class="py-1 prose dark:prose-invert">Create a new project from example <code>blink</code> and change the output GPIO pin via <code>menuconfig</code></div></div><div class="px-6 pt-4 pb-2"></div></div></a><a href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-2-1/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=../../../workshop-esp-idf/workshops/esp-idf-basic/assignment-2-1/>ESP-IDF Basics - Assign. 2.1</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Reading time">8 mins</span></div><div class="flex flex-row flex-wrap items-center"></div></div><div class="py-1 prose dark:prose-invert">Start a soft-AP and an HTTP server (guided)</div></div><div class="px-6 pt-4 pb-2"></div></div></a></section></div><script>var oid="views_workshops/esp-idf-basic/lecture-3/index.md",oid_likes="likes_workshops/esp-idf-basic/lecture-3/index.md"</script><script type=text/javascript src=../../../workshop-esp-idf/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q+oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=../../../workshop-esp-idf/workshops/esp-idf-basic/lecture-2/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">ESP-IDF Basics - Lecture 2</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"></span></span></a></span><span></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex flex-col list-none sm:flex-row"><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=../../../workshop-esp-idf/tags/ title=Tags>Tags</a></li><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=../../../workshop-esp-idf/authors/ title="Developer Portal Authors">Authors</a></li><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href title>About</a></li><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href title>Contribute</a></li><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=https://github.com/espressif/developer-portal/ title><span><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-500">&copy;
2025
John Lee</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=../../../workshop-esp-idf/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://fbez.github.io/workshop-esp-idf/ style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></div><script async src=https://widget.kapa.ai/kapa-widget.bundle.js data-website-id=10bca275-31d7-43dc-a7d7-160913512ad4 data-project-name="Developer Portal" data-project-color=#38393a data-project-logo=/workshop-esp-idf/logo-ai.webp data-button-image=/workshop-esp-idf/logo-ai-new.webp data-modal-disclaimer="This custom large language model (LLM), trained on official documentation from espressif.com, is designed to provide technical support and answers related to Espressif’s products and services. Give it a try, share your thoughts, and let us know your feedback—we truly appreciate it! 
\n\n*Note*: AI-generated information may be incomplete or inaccurate. Always verify critical information with official sources." data-modal-example-questions="How do I put an ESP32-DevkitC into download mode?" data-button-text-font-size=0px data-button-border-radius=50% data-button-bg-color=#38393a data-button-border=#38393a data-button-height=52px data-button-width=52px data-button-animation-enabled=false data-button-image-height=100% data-button-image-width=100% data-button-padding=0 data-button-hover-animation-enabled=false data-button-position-right=16px data-button-position-bottom=96px data-button-box-shadow="0px 6px 12px 1px rgba(0,0,0,0.16)" data-bot-protection-mechanism=hcaptcha></script></body></html>